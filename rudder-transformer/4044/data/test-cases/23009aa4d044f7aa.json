{"uid":"23009aa4d044f7aa","name":"150624 -> Identify call with enforceEmailAsPrimary enabled in destination config","fullName":"test/integrations/component.test.ts#Component Test Suite /home/runner/work/rudder-transformer/rudder-transformer/test/integrations/destinations/klaviyo/processor/data.ts Tests klaviyo destination processor -> 150624 -> Identify call with enforceEmailAsPrimary enabled in destination config (index: 3)","historyId":"3ec91cc7a8a5a26e2d81348327d68514:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1741841108830,"stop":1741841108837,"duration":7},"description":"\n      Feature: processor\n      Description: 150624 -> Identify call with enforceEmailAsPrimary enabled in destination config\n      Success Criteria: Response should contain two payloads one for profile and other for subscription, response status code should be 200, for the profile updation payload there should be no external_id field in the payload as enforceEmailAsPrimary is set to true in the destination config and the userId should be mapped to _id field in the properties object\n      Scenario: Business\n      Test ID: klaviyo-identify-150624-test-4\n      API Version: v0\n    ","descriptionHtml":"<pre><code>  Feature: processor\n  Description: 150624 -&gt; Identify call with enforceEmailAsPrimary enabled in destination config\n  Success Criteria: Response should contain two payloads one for profile and other for subscription, response status code should be 200, for the profile updation payload there should be no external_id field in the payload as enforceEmailAsPrimary is set to true in the destination config and the userId should be mapped to _id field in the properties object\n  Scenario: Business\n  Test ID: klaviyo-identify-150624-test-4\n  API Version: v0\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"beforeAll","time":{"start":1741841092810,"stop":1741841092812,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"beforeEach","time":{"start":1741841108831,"stop":1741841108831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n      Feature: processor\n      Description: 150624 -> Identify call with enforceEmailAsPrimary enabled in destination config\n      Success Criteria: Response should contain two payloads one for profile and other for subscription, response status code should be 200, for the profile updation payload there should be no external_id field in the payload as enforceEmailAsPrimary is set to true in the destination config and the userId should be mapped to _id field in the properties object\n      Scenario: Business\n      Test ID: klaviyo-identify-150624-test-4\n      API Version: v0\n    ","status":"passed","steps":[{"name":"Test Setup","time":{"start":1741841108836,"stop":1741841108837,"duration":1},"status":"passed","steps":[{"name":"Test Verification","time":{"start":1741841108836,"stop":1741841108837,"duration":1},"status":"passed","steps":[{"name":"Request","time":{"start":1741841108837,"stop":1741841108837,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"2a2f583b2a98be4d","name":"Request","source":"2a2f583b2a98be4d.json","type":"application/json","size":1979}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"Actual Response","time":{"start":1741841108837,"stop":1741841108837,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"e14e71c7fe46aca","name":"Actual Response","source":"e14e71c7fe46aca.json","type":"application/json","size":3756}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"afterAll","time":{"start":1741841123993,"stop":1741841123994,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"jest"},{"name":"package","value":"test.integrations.component.test.ts"},{"name":"host","value":"fv-az2027-885"},{"name":"thread","value":"1"},{"name":"parentSuite","value":"Component Test Suite"},{"name":"suite","value":"/home/runner/work/rudder-transformer/rudder-transformer/test/integrations/destinations/klaviyo/processor/data.ts Tests"},{"name":"subSuite","value":"klaviyo destination"},{"name":"epic","value":"klaviyo"},{"name":"feature","value":"destination"},{"name":"story","value":"processor"},{"name":"tag","value":"Business"},{"name":"ALLURE_ID","value":"klaviyo-identify-150624-test-4"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["Business"]},"source":"23009aa4d044f7aa.json","parameterValues":[]}